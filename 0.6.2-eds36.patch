--- origsrc/giggle-0.6.2/plugins/giggle-personal-details-window.c	2012-10-31 23:22:13.000000000 -0500
+++ src/giggle-0.6.2/plugins/giggle-personal-details-window.c	2012-12-23 01:27:39.705644700 -0600
@@ -27,7 +27,7 @@
 #include <string.h>
 
 #ifdef ENABLE_EDS
-#include <libebook/e-book.h>
+#include <libebook/libebook.h>
 #endif /* ENABLE_EDS */
 
 #define GET_PRIV(obj) (G_TYPE_INSTANCE_GET_PRIVATE ((obj), GIGGLE_TYPE_PERSONAL_DETAILS_WINDOW, GigglePersonalDetailsWindowPriv))
@@ -163,8 +163,9 @@ personal_details_configuration_updated_c
 	const char			*name, *email;
 
 #ifdef ENABLE_EDS
+	ESourceRegistry			*registry = NULL;
 	EContact 			*contact = NULL;
-	EBook				*book = NULL;
+	EBookClient			*book = NULL;
 	GError   			*error = NULL;
 #endif /* ENABLE_EDS */
 
@@ -195,8 +196,9 @@ personal_details_configuration_updated_c
 	email = giggle_git_config_get_field (configuration, GIGGLE_GIT_CONFIG_FIELD_EMAIL);
 
 #ifdef ENABLE_EDS
+	registry = e_source_registry_new_sync (NULL, &error);
 
-	if (!e_book_get_self (&contact, &book, &error)) {
+	if (!e_book_client_get_self (registry, &contact, &book, &error)) {
 		g_warning ("%s: Cannot open retreive self-contact: %s",
 			   G_STRFUNC, error->message);
 	}
@@ -230,6 +232,8 @@ personal_details_configuration_updated_c
 		g_object_unref (contact);
 	if (book)
 		g_object_unref (book);
+	if (registry)
+		g_object_unref (registry);
 
 #endif /* ENABLE_EDS */
 }
